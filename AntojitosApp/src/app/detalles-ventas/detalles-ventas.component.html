<div class="jumbotron py-3">
    <h1 class="display-4 text-center">Generador de Ventas</h1>
</div>

<div class="row">
    <div class="col-md-6">
        <p>Fecha actual: {{serviceVenta.fechaActual | date:'fullDate' }}</p>
        <h3 class="display-4 text-center">Articulos Agregados</h3>
        <form novalidate autocomplete="off" #form="ngForm" >
            <!-- <input type="hidden" name="IdCliente"
            [value]="service.formData.IdCliente" /> -->

            <div class="form-group">
                <label>DOCUMENTO CLIENTE </label>
                <input class="form-control form-control-lg" placeholder="Numero documento del cliente"
                name="codigo" #identificacion="ngModel" [(ngModel)]="serviceVenta.documentoCliente"
                required>
            </div>
            
            <div class="form-group">
                <ul>
                    <li *ngFor="let p of serviceVenta.ventas" class="{'fadeOut' : skill.done}">
                        <!-- <span class="fa fa-close" ng-click="deleteSkill($index)"></span> -->
                        <span>{{'Producto: ' + p.NombreProducto + ' - Valor Unidad: ' + p.ValorUnidad + ' - Cantidad: ' + p.Cantidad}}</span>
                    </li>
                </ul>
            </div>

            <h4>VALOR TOTAL A PAGAR = {{ serviceVenta.valorTotal }}</h4>
            <!-- <h4>NOMBRE CLIENTE = {{ serviceVenta.detalleCliente.Nombres }}</h4> -->
            <div class="form-group">
                <button class="btn btn-info btn-lg btn-block" type="submit" [disabled]="form.invalid" (click)="generarFactura()">
                    Registrar Venta
                </button>
                <button class="btn btn-info btn-lg btn-block" type="cancel" (click)="limpiarCampos()">
                    Cancelar Venta
                </button>
            </div>
        </form>
    </div>
    <div class="col-md-6">
        <label for="cantidadProd">NUMERO DE UNIDADES A COMPRAR: </label>
        <input name='cantidadProd'type="number" class="form-control form-control-lg"
                        name="codigo" #cantidad="ngModel" [(ngModel)]="serviceVenta.cantidadProducto"
                        required>          
        <table class="table">
            <thead class="thead-light">
                <tr>
                    <th>CÃ³digo</th>
                    <th>Nombre</th>
                    <th>Valor</th>
                    <th>Cantidad Total</th>
                    <th></th>
                </tr>
                
            </thead>
            <tbody>
                <tr *ngFor="let producto of serviceProd.list">
                    <td (click)="populateForm(producto)">{{ producto.Codigo }}</td>
                    <td (click)="populateForm(producto)">{{ producto.Nombre }}</td>
                    <td (click)="populateForm(producto)">{{ producto.ValorUnidad }}</td>                    
                    <td (click)="populateForm(producto)">{{ producto.Stock}}</td>                    
                    <td>
                        <i class="fas  fa-plus-circle fa-lg text-success" (click)="onAddProducto(producto)"></i>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
</div>
